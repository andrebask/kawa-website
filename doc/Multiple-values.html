<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Kawa: Multiple values</title>
<link rel="stylesheet" title="Kawa (navbar: fixed, left)" href="style/kawa-l.css" media="screen, print, projection, tv">
<link rel="alternate stylesheet" title="Kawa (navbar: fixed, right)" href="style/kawa-r.css" media="screen, print, projection, tv">
<link rel="alternate stylesheet" title="Single column, top navigation" href="style/kawa-1col.css" type="text/css" media="handheld, screen, print, projection, tv">

<link rel="home" href="toc.html" title="Kawa: The Kawa Scheme language">
<link rel="up" href="Documentation.html" title="Kawa: Documentation">
<link rel="prev" href="Program-structure.html" title="Kawa: Program structure">
<link rel="next" href="Symbols-and-namespaces.html" title="Kawa: Symbols and namespaces">
<link rel="stylesheet" href="../kawa.css" type="text/css" media="all">
<link rel="stylesheet" href="../kawa-layout.css" type="text/css" media="all">
</head>


<div class="header">
    <a href="index.html"><img class="logo" src="kawa-logo.png"/></a>
    <h1><a href="index.html">The Kawa Scheme Language</a></h1>
</div>

<body>
<div class="header">
    <a href="index.html"><img class="logo" src="kawa-logo.png"/></a>
    <h1><a href="index.html">The Kawa Scheme Language</a></h1>
</div>
<div class="content">
<div class="navcol">

<div class="navbar">
<ul>
<li><a href="toc.html">Table of Contents</a></li>
<li><a href="tutorial/index.html">Tutorial</a></li>
<li><a href="news.html">News: Recent changes</a></li>
</ul>
<div class="toc"><ul>
<li><a href="index.html">The Kawa Scheme language</a></li>
<li><a href="Installation.html">Getting and installing Kawa</a></li>
<li><a href="Features.html">Features</a></li>
<li>
<a href="Documentation.html">Documentation</a><ul>
<li><a href="Running.html">Usage Reference</a></li>
<li><a href="Syntax.html">Syntax</a></li>
<li><a href="Program-structure.html">Program structure</a></li>
<li><b class="toc"><a href="Multiple-values.html">Multiple values</a></b></li>
<li><a href="Symbols-and-namespaces.html">Symbols and namespaces</a></li>
<li><a href="Procedures.html">Procedures</a></li>
<li><a href="Numbers.html">Numbers</a></li>
<li><a href="Characters-and-text.html">Characters and text</a></li>
<li><a href="Data-structures.html">Data structures</a></li>
<li><a href="Eval-and-Environments.html">Eval and Environments</a></li>
<li><a href="Debugging.html">Debugging</a></li>
<li><a href="Input-Output.html">Input, output, files</a></li>
<li><a href="Types.html">Types</a></li>
<li><a href="Objects-Classes-and-Modules.html">Object, Classes and Modules</a></li>
<li><a href="XML-tools.html">Working with XML and HTML</a></li>
<li><a href="Miscellaneous.html">Miscellaneous topics</a></li>
</ul>
</li>
<li><a href="Development.html">Development</a></li>
<li><a href="Community.html">The Kawa Community</a></li>
<li><a href="About.html">About</a></li>
<li><a href="Overall-Index.html">Index</a></li>
</ul></div>
</div>
</div>
<div class="sect1">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="Multiple-values"></a>Multiple values</h2></div></div></div>
<p>The multiple-value feature was added in R5RS.
</p>
<div class="informalfigure">
<p class="synopsis"><a class="indexterm" name="idp43731552"></a><code class="function">values</code><em class="replaceable"><code> object</code></em><em class="replaceable"><code> ...</code></em></p>
<div class="blockquote"><blockquote class="blockquote"><p>Delivers all of its arguments to its continuation.
</p></blockquote></div>
</div>
<div class="informalfigure">
<p class="synopsis"><a class="indexterm" name="idp43735392"></a><code class="function">call-with-values</code><em class="replaceable"><code> thunk</code></em><em class="replaceable"><code> receiver</code></em></p>
<div class="blockquote"><blockquote class="blockquote"><p>Call its <em class="replaceable"><code>thunk</code></em> argument with a continuation that,
when passed some values, calls the <em class="replaceable"><code>receiver</code></em> procedure
with those values as arguments.
</p></blockquote></div>
</div>
<div class="informalfigure">
<p class="synopsis"><a class="indexterm" name="idp43740176"></a><code class="function">let-values</code><em class="replaceable"><code> <code class="literal"><span class="bold"><strong>((</strong></span></code></code></em><em class="replaceable"><code><a class="link" href="Procedures.html#meta-formals"><em class="replaceable"><code>formals</code></em></a></code></em><em class="replaceable"><code> <a class="link" href="Syntax.html#meta-expression"><em class="replaceable"><code>expression</code></em></a></code></em><em class="replaceable"><code><code class="literal"><span class="bold"><strong>)</strong></span></code></code></em><em class="replaceable"><code> ...</code></em><em class="replaceable"><code><code class="literal"><span class="bold"><strong>)</strong></span></code></code></em><em class="replaceable"><code> <a class="link" href="Syntax.html#meta-body"><em class="replaceable"><code>body</code></em></a></code></em></p>
<div class="blockquote"><blockquote class="blockquote">
<p>Each <em class="replaceable"><code>formals</code></em> should be a formal arguments list as for a <code class="literal">lambda</code>.
</p>
<p>The <em class="replaceable"><code>expression</code></em>s are evaluated in the current environment, the
variables of the <em class="replaceable"><code>formals</code></em> are bound to fresh locations, the return
values of the <em class="replaceable"><code>expression</code></em>s are stored in the variables, the
<em class="replaceable"><code>body</code></em> is evaluated in the extended environment, and the values of
the last expression of <em class="replaceable"><code>body</code></em> are returned. The <em class="replaceable"><code>body</code></em> is a
"tail body", cf section 3.5 of the R5RS.
</p>
<p>The matching of each <em class="replaceable"><code>formals</code></em> to values is as for the matching of
<em class="replaceable"><code>formals</code></em> to arguments in a <code class="literal">lambda</code> expression, and it is an
error for an <em class="replaceable"><code>expression</code></em> to return a number of values that does not
match its corresponding <em class="replaceable"><code>formals</code></em>.
</p>
<pre class="screen">(let-values (((a b . c) (values 1 2 3 4)))
  (list a b c))            ⇒ (1 2 (3 4))

(let ((a 'a) (b 'b) (x 'x) (y 'y))
  (let-values (((a b) (values x y))
               ((x y) (values a b)))
    (list a b x y)))       ⇒ (x y a b)
</pre>
</blockquote></div>
</div>
<div class="informalfigure">
<p class="synopsis"><a class="indexterm" name="idp43758464"></a><code class="function">let*-values</code><em class="replaceable"><code> <code class="literal"><span class="bold"><strong>((</strong></span></code></code></em><em class="replaceable"><code><a class="link" href="Procedures.html#meta-formals"><em class="replaceable"><code>formals</code></em></a></code></em><em class="replaceable"><code> <a class="link" href="Syntax.html#meta-expression"><em class="replaceable"><code>expression</code></em></a></code></em><em class="replaceable"><code><code class="literal"><span class="bold"><strong>)</strong></span></code></code></em><em class="replaceable"><code> ...</code></em><em class="replaceable"><code><code class="literal"><span class="bold"><strong>)</strong></span></code></code></em><em class="replaceable"><code> <a class="link" href="Syntax.html#meta-body"><em class="replaceable"><code>body</code></em></a></code></em></p>
<div class="blockquote"><blockquote class="blockquote">
<p>Each <em class="replaceable"><code>formals</code></em> should be a formal arguments list as for a
<code class="literal">lambda</code> expression.
</p>
<p><code class="literal">let*-values</code> is similar to <code class="literal">let-values</code>, but the bindings are
performed sequentially from left to right, and the region of a binding
indicated by (<em class="replaceable"><code>formals</code></em> <em class="replaceable"><code>expression</code></em>) is that part of the
<code class="literal">let*-values</code> expression to the right of the binding. Thus the
second binding is done in an environment in which the first binding is
visible, and so on.
</p>
<pre class="screen">(let ((a 'a) (b 'b) (x 'x) (y 'y))
  (let*-values (((a b) (values x y))
                ((x y) (values a b)))
    (list a b x y)))       ⇒ (x y x y)
</pre>
</blockquote></div>
</div>
<div class="informalfigure">
<p class="synopsis"><a class="indexterm" name="idp43773840"></a><code class="function">receive</code><em class="replaceable"><code> <a class="link" href="Procedures.html#meta-formals"><em class="replaceable"><code>formals</code></em></a></code></em><em class="replaceable"><code> <a class="link" href="Syntax.html#meta-expression"><em class="replaceable"><code>expression</code></em></a></code></em><em class="replaceable"><code> <a class="link" href="Syntax.html#meta-body"><em class="replaceable"><code>body</code></em></a></code></em></p>
<div class="blockquote"><blockquote class="blockquote">
<p>This convenience
form (from <a class="ulink" href="http://srfi.schemers.org/srfi-8/srfi-8.html" target="_top">SRFI-8</a>)
is equivalent to:
</p>
<pre class="screen">(let-values ((<em class="replaceable"><code>formals</code></em> <em class="replaceable"><code>expression</code></em>)) <em class="replaceable"><code>body</code></em>)
</pre>
<p>For example:
</p>
<pre class="screen">(receive a (values 1 2 3 4)
  (reverse a)) ⇒ (4 3 2 1)

(receive (a b . c) (values 1 2 3 4)
  (list a b c))            ⇒ (1 2 (3 4))

(let ((a 'a) (b 'b) (x 'x) (y 'y))
  (receive (a b) (values x y)
    (receive (x y) (values a b)
      (list a b x y))))    ⇒ (x y x y)
</pre>
</blockquote></div>
</div>
<div class="informalfigure">
<p class="synopsis"><a class="indexterm" name="idp43784032"></a><code class="function">values-append</code><em class="replaceable"><code> arg1</code></em><em class="replaceable"><code> ...</code></em></p>
<div class="blockquote"><blockquote class="blockquote"><p>The values resulting from evaluating each argument are appended
together.
</p></blockquote></div>
</div>
</div>
<div class="navfooter">
<p>
          Up: <a accesskey="u" href="Documentation.html">Documentation</a></p>
<p>
        Previous: <a accesskey="p" href="Program-structure.html">Program structure</a></p>
<p>
        Next: <a accesskey="n" href="Symbols-and-namespaces.html">Symbols and namespaces</a></p>
</div>
</div>
 </body>
</html>
